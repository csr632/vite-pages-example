<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>üìòVite Pages</title>
<link rel="stylesheet" href="/vite-pages-example/_assets/style.5cc99d0e.css">
<link rel="modulepreload" href="/vite-pages-example/_assets/page-data.4a4067ac.js" />
</head>
<body>
  <script>window._vitePagesSSR={"pagePublicPath":"/page-data","pageData":"/vite-pages-example/_assets/page-data.4a4067ac.js"};</script>
<div id="root"><div class="layout_70a6a448"><div class="topBar_67634860"><div class="logo_67634860">Vite Pages</div><div class="navs_67634860"><ul class="navsList_67634860"><li><a href="https://github.com/csr632/vite-pages-example" target="_blank" class="navsListItem_67634860">üéÆ Example</a></li><li><a href="https://github.com/vitejs/vite-plugin-react-pages" target="_blank" class="navsListItem_67634860">‚≠ê Github</a></li></ul></div></div><div class="body_70a6a448"><ul class="sideMenu_1d7dff16"><li><a href="/vite-pages-example/">/</a></li><li><a href="/vite-pages-example/pages">/pages</a></li><li><a href="/vite-pages-example/theme">/theme</a></li><li><a href="/vite-pages-example/page-data">/page-data</a></li></ul><div class="content_70a6a448 markdown-body"><h1>Page data</h1><h2>Static page metadata</h2><p>For <code>.tsx|.jsx</code> pages, you can define static data with <strong>comment at the top of the file</strong>.</p><pre><code class="language-tsx">/**
 * @title index page
 * @tags tag1,tag2
 */
</code></pre><p>This will be resolved into:</p><pre><code class="language-json">{ &quot;title&quot;: &quot;index page&quot;, &quot;tags&quot;: &quot;tag1,tag2&quot; }
</code></pre><p>For <code>.md|.mdx</code> pages, you can define static data with YAML front matter:</p><pre><code class="language-md">---
title: my page
tags:
  - tag1
  - tag2
---
</code></pre><p>This will be resolved into:</p><pre><code class="language-json">{ &quot;title&quot;: &quot;my page&quot;, &quot;tags&quot;: [&quot;tag1&quot;, &quot;tag2&quot;] }
</code></pre><h2>Runtime page data</h2><p>Runtime page data is just anything you export from a page file.</p><h2>Difference</h2><p>Both static data and runtime data will be passed to <code>_theme.js</code>, so the theme can use them to render layout.</p><p>Difference:</p><ul><li>Static data of <strong>all pages</strong> is loaded when the app bootstrap. So you should try to keep the static data small.</li><li>Runtime data is only loaded when user navigate to that page.</li><li>The value type of static data is limited (string or simple object/array), while the value of runtime data can be any javascript value (.e.g a React component).</li></ul><h2>How to consume these data</h2><p>As stated in the <a href="/vite-pages-example/theme">theme doc</a>, <code>_theme.tsx</code> should export an object contains these <strong>render functions</strong>:</p><pre><code class="language-ts">interface ITheme {
  /**
   * loading the first page&#x27;s data, render the initial loading state.
   * if the app is build with ssr,
   * vite-pages will not use it to render the initial loading state.
   *
   * @param pageStaticData current page&#x27;s static data.
   * @param pages all page&#x27;s static data.
   */
  initialLoading: (
    pageStaticData: any,
    pages: IPages
  ) =&gt; React.ReactElement | null
  /**
   * current page&#x27;s data is ready, render the page content.
   *
   * @param pageData current page&#x27;s data. including static data and runtime data.
   * @param pages all page&#x27;s static data.
   */
  loaded: (pageData: IPageLoaded, pages: IPages) =&gt; React.ReactElement | null
  /**
   * app is loading another page, render the transition loading state.
   * if transitionLoading is not provided, vite-pages will fallback to initialLoading.
   *
   * @param pageStaticData current page&#x27;s static data.
   * @param pages all page&#x27;s static data.
   * @param prevPageData previous page&#x27;s data.
   */
  transitionLoading?: (
    pageStaticData: any,
    pages: IPages,
    prevPageData: IPageLoaded
  ) =&gt; React.ReactElement | null
  /**
   * If error happens while loading,
   * vite-pages will use it to render the error state.
   *
   * @param error the error.
   * @param pageStaticData current page&#x27;s static data.
   * @param pages all page&#x27;s static data.
   */
  loadError: (
    error: any,
    pageStaticData: any,
    pages: IPages
  ) =&gt; React.ReactElement | null
}
</code></pre><p>The <code>pageData</code> contains:</p><pre><code class="language-ts">{
  ...pageStaticData, // static data of current page
  _path: &#x27;/page/path&#x27;,
  ...pageRuntimeData, // runtime data of current page
}
</code></pre><p>The <code>pages</code> provides the <strong>static data of all pages</strong>:</p><pre><code class="language-ts">interface IPages {
  [path: string]: {
    staticData: any
  }
}
</code></pre><h2>vite-pages core doesn&#x27;t care about your page data</h2><p>vite-pages itself doesn&#x27;t care about your page data structure. How to interpret the page data, is totally decided by <a href="/vite-pages-example/theme">your theme</a>. This design make the vite-pages core more &quot;simple&quot; and make themes more powerful.</p><p>Most themes ask users to <code>export default</code> a React component from page files. But that is not a requirement from vite-pages core.</p><p>If you are a theme user, you should read the doc of your theme to learn what data should be exposed by your pages.</p></div></div></div></div>
  
<script type="module" src="/vite-pages-example/_assets/clientRender.37d0bba7.js"></script>
</body>
</html>
